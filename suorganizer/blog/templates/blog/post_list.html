{% extends parent_template|default:"blog/base_blog.html" %}

{% block title %}
  {{ block.super }} - Posts
{% endblock title %}

{% block content %}
  <div>
    <a href="{% url 'blog_post_create' %}">Create New Post</a>
  </div>

  {% for post in post_list %}
    <article>
      <header>
        <h2>
          <a href="{{ post.get_absolute_url }}">
            {{ post.title|title }}
          </a>
        </h2>
        <p>
          <ul>
            <li>
              <a href="{{ post.get_update_url }}">Edit Post</a>
            </li>
            <li>
            <a href="{{ post.get_update_url }}">Delete Post</a>
          </li>

          </ul>
          Written on:
          <time datetime="{{ post.pub_date|date:"Y-m-d" }}">
            {{ post.pub_date|date:"l, F jS, Y" }}
          </time>
        </p>
      </header>
      <p>{{ post.text|truncatewords:20 }}</p>
      <p>
        <a href="{{ post.get_absolute_url }}">
          Read more&hellip;
        </a>
      </p>
    </article>
  {% empty %}
    <p><em>No Blog Posts Available</em></p>
  {% endfor %}
{% endblock content %}
